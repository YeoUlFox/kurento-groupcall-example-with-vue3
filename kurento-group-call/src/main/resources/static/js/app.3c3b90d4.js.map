{"version":3,"file":"js/app.3c3b90d4.js","mappings":"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","sources":["webpack://kurento-demo/./src/App.vue","webpack://kurento-demo/./src/kurento/Room.js","webpack://kurento-demo/./src/App.vue?7ccd","webpack://kurento-demo/./src/main.js","webpack://kurento-demo/webpack/bootstrap","webpack://kurento-demo/webpack/runtime/amd options","webpack://kurento-demo/webpack/runtime/chunk loaded","webpack://kurento-demo/webpack/runtime/compat get default export","webpack://kurento-demo/webpack/runtime/define property getters","webpack://kurento-demo/webpack/runtime/global","webpack://kurento-demo/webpack/runtime/hasOwnProperty shorthand","webpack://kurento-demo/webpack/runtime/node module decorator","webpack://kurento-demo/webpack/runtime/publicPath","webpack://kurento-demo/webpack/runtime/jsonp chunk loading","webpack://kurento-demo/webpack/startup"],"sourcesContent":["<template>\r\n  <img id=\"logo\" alt=\"logo\" src=\"./assets/logo.png\">\r\n\r\n  <div id=\"join1\">\r\n    <h1>Join a Room</h1>\r\n    <form @submit.prevent=\"enterRoom()\" accept-charset=\"UTF-8\">\r\n      <p>\r\n        <input type=\"text\" name=\"name\" value=\"\" id=\"name\"\r\n          placeholder=\"Username\" required>\r\n      </p>\r\n      <p>\r\n        <input type=\"text\" name=\"room\" value=\"\" id=\"roomName\"\r\n          placeholder=\"Room\" required>\r\n      </p>\r\n      <p class=\"submit\">\r\n        <input type=\"submit\" name=\"commit\" value=\"방 참여\">\r\n      </p>\r\n    </form>\r\n  </div>\r\n\r\n  <div id=\"room\" ref=\"div_room\" v-if=\"isInRoom\">\r\n    <h2 id=\"room-header\"> {{ roomname }} </h2>\r\n    <div id=\"participants\" ref=\"div_participants\">\r\n      <div v-for=\"[name, ] in room.participants\" :key=\"name\" :id=\"'participant' + name\">\r\n        \r\n      </div>\r\n    </div>\r\n    <input type=\"button\" id=\"button-leave\" @mouseup=\"leaveRoom()\"\r\n      value=\"방 나가기\">\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { ref, onUpdated, onBeforeUnmount } from 'vue'\r\nimport { Room } from '@/kurento/Room'\r\n\r\nexport default {\r\n  name: 'Kurento_Demo',\r\n\r\n  setup() {\r\n    var room;\r\n\r\n    var isInRoom = ref(false);\r\n    var username = ref();\r\n    var roomname = ref();\r\n\r\n    function enterRoom() {\r\n      room = Room();\r\n      room.register(username.value, roomname.value); \r\n      isInRoom.value = true;\r\n    }\r\n\r\n    function leaveRoom() {\r\n      room.leaveRoom();\r\n      isInRoom.value = false;\r\n    }\r\n  \r\n    room = Room();\r\n  \r\n\r\n    onUpdated(() => {\r\n\r\n    })\r\n\r\n    // for page shut down\r\n    onBeforeUnmount(() => { if(room.length != 0) room.release(); })\r\n\r\n    return { username, roomname, isInRoom, enterRoom, leaveRoom }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n#logo {\r\n  height: 120px;\r\n  width: 120px;\r\n}\r\n</style>\r\n","import { WebRtcPeer } from \"kurento-utils\";\r\n\r\n\r\nexport function Room() {\r\n\tvar ws = new WebSocket('wss://' + 'localhost:8443' + '/groupcall');\r\n\tvar participants = {};\r\n\r\n\tvar userName;\r\n\tvar roomName;\r\n\r\n\t// window.onbeforeunload = function() {\r\n\t// \tws.close();\r\n\t// };\r\n\tthis.release = function() {\r\n\t\tws.close();\r\n\t}\r\n\r\n\tws.onmessage = function(message) {\r\n\t\tvar parsedMessage = JSON.parse(message.data);\r\n\t\tconsole.info('Received message: ' + message.data);\r\n\t\r\n\t\tswitch (parsedMessage.id) {\r\n\t\tcase 'existingParticipants':\r\n\t\t\tonExistingParticipants(parsedMessage);\r\n\t\t\tbreak;\r\n\t\tcase 'newParticipantArrived':\r\n\t\t\tonNewParticipant(parsedMessage);\r\n\t\t\tbreak;\r\n\t\tcase 'participantLeft':\r\n\t\t\tonParticipantLeft(parsedMessage);\r\n\t\t\tbreak;\r\n\t\tcase 'receiveVideoAnswer':\r\n\t\t\treceiveVideoResponse(parsedMessage);\r\n\t\t\tbreak;\r\n\t\tcase 'iceCandidate':\r\n\t\t\tparticipants[parsedMessage.name].rtcPeer.addIceCandidate(parsedMessage.candidate, function (error) {\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tconsole.error(\"Error adding candidate: \" + error);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tconsole.error('Unrecognized message', parsedMessage);\r\n\t\t}\r\n\t}\r\n\r\n\tthis.register = function(user, room) {\r\n\t\t// name = document.getElementById('name').value;\r\n\t\t// var room = document.getElementById('roomName').value;\r\n\t\r\n\t\t// document.getElementById('room-header').innerText = 'ROOM ' + room;\r\n\t\t// document.getElementById('join').style.display = 'none';\r\n\t\t// document.getElementById('room').style.display = 'block';\r\n\r\n\t\tuserName = user;\r\n\t\troomName = room;\r\n\t\r\n\t\tvar message = {\r\n\t\t\tid : 'joinRoom',\r\n\t\t\tname : userName,\r\n\t\t\troom : roomName,\r\n\t\t}\r\n\t\tsendMessage(message);\r\n\t}\r\n\r\n\t// SDP Answer에 대한 처리\r\n\tthis.callResponse = function(message) {\r\n\t\tif (message.response != 'accepted') {\r\n\t\t\tconsole.info('Call not accepted by peer. Closing call');\r\n\t\t\tstop();\r\n\t\t} else {\r\n\t\t\t\t// TODO : webRtcPeer -> WebRtcPeer\r\n\t\t\t\tWebRtcPeer.processAnswer(message.sdpAnswer, function (error) {\r\n\t\t\t\tif (error) return console.error (error);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tthis.leaveRoom = function() {\r\n\t\tsendMessage({\r\n\t\t\tid : 'leaveRoom'\r\n\t\t});\r\n\t\r\n\t\tfor ( var key in participants) {\r\n\t\t\tparticipants[key].dispose();\r\n\t\t}\r\n\r\n\t\tws.close();\r\n\t}\r\n\r\n\tfunction onExistingParticipants(msg) {\r\n\t\tvar constraints = {\r\n\t\t\taudio : true,\r\n\t\t\tvideo : {\r\n\t\t\t\tmandatory : {\r\n\t\t\t\t\tmaxWidth : 320,\r\n\t\t\t\t\tmaxFrameRate : 15,\r\n\t\t\t\t\tminFrameRate : 15\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tconsole.log(userName + \" registered in room \" + roomName);\r\n\r\n\t\tvar participant = new Participant(userName);\r\n\t\tparticipants[userName] = participant;\r\n\t\tvar video = participant.getVideoElement();\r\n\t\r\n\t\tvar options = {\r\n\t\t\t\tlocalVideo: video,\r\n\t\t\t\tmediaConstraints: constraints,\r\n\t\t\t\tonicecandidate: participant.onIceCandidate.bind(participant)\r\n\t\t\t}\r\n\t\tparticipant.rtcPeer = new WebRtcPeer.WebRtcPeerSendonly(options,\r\n\t\t\tfunction (error) {\r\n\t\t\t\tif(error) {\r\n\t\t\t\t\treturn console.error(error);\r\n\t\t\t\t}\r\n\t\t\t\tthis.generateOffer (participant.offerToReceiveVideo.bind(participant));\r\n\t\t});\r\n\t\r\n\t\tmsg.data.forEach(receiveVideo);\r\n\t}\r\n\r\n\tfunction onNewParticipant(request) {\r\n\t\treceiveVideo(request.name);\r\n\t}\r\n\r\n\tfunction onParticipantLeft(request) {\r\n\t\tconsole.log('Participant ' + request.name + ' left');\r\n\t\tvar participant = participants[request.name];\r\n\t\tparticipant.dispose();\r\n\t\tdelete participants[request.name];\r\n\t}\r\n\r\n\tfunction receiveVideoResponse(result) {\r\n\t\tparticipants[result.name].rtcPeer.processAnswer (result.sdpAnswer, function (error) {\r\n\t\t\tif (error) return console.error (error);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction receiveVideo(sender) {\r\n\t\tvar participant = new Participant(sender);\r\n\t\tparticipants[sender] = participant;\r\n\t\tvar video = participant.getVideoElement();\r\n\t\r\n\t\tvar options = {\r\n\t\t\tremoteVideo: video,\r\n\t\t\tonicecandidate: participant.onIceCandidate.bind(participant)\r\n\t\t}\r\n\t\r\n\t\tparticipant.rtcPeer = new WebRtcPeer.WebRtcPeerRecvonly(options,\r\n\t\t\tfunction (error) {\r\n\t\t\t\tif(error) {\r\n\t\t\t\t\treturn console.error(error);\r\n\t\t\t\t}\r\n\t\t\t\tthis.generateOffer (participant.offerToReceiveVideo.bind(participant));\r\n\t\t});\r\n\t}\r\n\r\n\tfunction sendMessage(message) {\r\n\t\tvar jsonMessage = JSON.stringify(message);\r\n\t\tconsole.log('Sending message: ' + jsonMessage);\r\n\t\t\r\n\t\tws.send(jsonMessage);\r\n\t}\r\n\r\n\tfunction Participant(name) {\r\n\t\tthis.name = name;\r\n\t\r\n\t\t// var rtcPeer\r\n\t\tObject.defineProperty(this, 'rtcPeer', { writable: true });\r\n\t\r\n\t\t// create video\r\n\t\tvar video = document.createElement('video');\r\n\t\tvideo.id = 'video-' + name;\r\n\t\tvideo.autoplay = true;\r\n\t\tvideo.controls = false;\r\n\t\r\n\t\tvar rtcPeer;\r\n\t\tconsole.log(rtcPeer);\r\n\r\n\t\tthis.getVideoElement = function () {\r\n\t\t\treturn video;\r\n\t\t};\r\n\t\r\n\t\tthis.offerToReceiveVideo = function(error, offerSdp){\r\n\t\t\tif (error) return console.error (\"sdp offer error\")\r\n\t\t\tconsole.log('Invoking SDP offer callback function');\r\n\t\t\tvar msg =  { id : \"receiveVideoFrom\",\r\n\t\t\t\t\tsender : name,\r\n\t\t\t\t\tsdpOffer : offerSdp\r\n\t\t\t\t};\r\n\t\t\tsendMessage(msg);\r\n\t\t}\r\n\t\r\n\t\tthis.onIceCandidate = function (candidate) {\r\n\t\t\t\tconsole.log(\"Local candidate\" + JSON.stringify(candidate));\r\n\t\r\n\t\t\t\tvar message = {\r\n\t\t\t\t\tid:\t'onIceCandidate',\r\n\t\t\t\t\tcandidate: candidate,\r\n\t\t\t\t\tname: name\r\n\t\t\t\t};\r\n\t\t\t\tsendMessage(message);\r\n\t\t}\r\n\t\r\n\t\tthis.dispose = function() {\r\n\t\t\tconsole.log('Disposing participant ' + this.name);\r\n\t\t\tthis.rtcPeer.dispose();\r\n\t\r\n\t\t\t// TODO : removing UI video is needed\r\n\t\t\t// container.parentNode.removeChild(container);\r\n\t\t};\r\n\t}\r\n}","import { render } from \"./App.vue?vue&type=template&id=5cb2beee\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5cb2beee&lang=css\"\n\nimport exportComponent from \"D:\\\\SSAFY\\\\kurento\\\\kurento-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App)\r\n    .mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkurento_demo\"] = self[\"webpackChunkkurento_demo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8555); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","id","alt","src","_imports_0","type","name","value","placeholder","required","class","_hoisted_4","_hoisted_5","_hoisted_6","ref","_hoisted_1","_hoisted_3","onSubmit","$setup","_createElementBlock","_toDisplayString","_Fragment","_renderList","_ctx","participants","key","onMouseup","Room","userName","roomName","ws","WebSocket","onExistingParticipants","msg","constraints","audio","video","mandatory","maxWidth","maxFrameRate","minFrameRate","console","log","participant","Participant","getVideoElement","options","localVideo","mediaConstraints","onicecandidate","onIceCandidate","bind","rtcPeer","WebRtcPeer","error","this","generateOffer","offerToReceiveVideo","data","forEach","receiveVideo","onNewParticipant","request","onParticipantLeft","dispose","receiveVideoResponse","result","processAnswer","sdpAnswer","sender","remoteVideo","sendMessage","message","jsonMessage","JSON","stringify","send","Object","defineProperty","writable","document","createElement","autoplay","controls","offerSdp","sdpOffer","candidate","release","close","onmessage","parsedMessage","parse","info","addIceCandidate","register","user","room","callResponse","response","stop","leaveRoom","setup","isInRoom","username","roomname","enterRoom","onUpdated","onBeforeUnmount","length","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","push","__webpack_exports__"],"sourceRoot":""}